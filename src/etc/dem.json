{
  "dBEAR": {
    "package": {
      "Praxigento": {
        "alias": "prxgt",
        "comment": "Root namespace for Praxigento modules",
        "package": {
          "Pv": {
            "alias": "pv",
            "comment": "Top level package for Praxigento_Pv module",
            "package": {
              "SaleOrder": {
                "alias": "sale",
                "comment": "Sale Order subpackage",
                "entity": {
                  "OrderItem": {
                    "alias": "item",
                    "comment": "PV attributes related to sale order item.",
                    "attribute": {
                      "SaleItemId": {
                        "alias": "sale_item_id",
                        "comment": "Reference to the sale order item.",
                        "nullable": false,
                        "type": {"integer": {"unsigned": true}}
                      },
                      "Subtotal": {
                        "alias": "subtotal",
                        "comment": "PV amount for the item w/o discount.",
                        "nullable": false,
                        "default": 0,
                        "type": {"numeric": {"precision": 12, "scale": 4}}
                      },
                      "Discount": {
                        "alias": "discount",
                        "comment": "PV discount amount for the item.",
                        "nullable": false,
                        "default": 0,
                        "type": {"numeric": {"precision": 12, "scale": 4}}
                      },
                      "Total": {
                        "alias": "total",
                        "comment": "PV amount for the item with discount.",
                        "nullable": false,
                        "default": 0,
                        "type": {"numeric": {"precision": 12, "scale": 4}}
                      }
                    },
                    "index": {
                      "PK": {"type": "primary", "aliases": ["sale_id"]}
                    },
                    "relation": {
                      "toMageSaleOrder": {
                        "own": {"aliases": ["sale_item_id"]},
                        "reference": {
                          "entity": {"completeAlias": "sales_order_item"},
                          "aliases": ["item_id"]
                        },
                        "action": {"delete": "restrict", "update": "restrict"}
                      }
                    }
                  }
                }
              },
              "Stock": {
                "alias": "sale",
                "comment": "Stock subpackage",
                "entity": {
                  "StockItem": {
                    "alias": "item",
                    "comment": "PV attributes related to stock item (product in warehouse).",
                    "attribute": {
                      "StockItemRef": {
                        "alias": "stock_item_ref",
                        "comment": "Reference to the stock item.",
                        "nullable": false,
                        "type": {"integer": {"unsigned": true}}
                      },
                      "PV": {
                        "alias": "pv",
                        "comment": "Warehouse PV amount for the item.",
                        "nullable": false,
                        "default": 0,
                        "type": {"numeric": {"precision": 12, "scale": 4}}
                      }
                    },
                    "index": {
                      "PK": {"type": "primary", "aliases": ["stock_item_ref"]}
                    },
                    "relation": {
                      "toWarehouseStockItem": {
                        "own": {"aliases": ["stock_item_ref"]},
                        "reference": {
                          "entity": {"completeAlias": "prxgt_wrhs_stock_item"},
                          "aliases": ["stock_item_ref"]
                        },
                        "action": {"delete": "restrict", "update": "restrict"}
                      }
                    }
                  }
                }
              }
            },
            "entity": {
              "Product": {
                "alias": "prod",
                "comment": "PV attributes related to the whole product.",
                "attribute": {
                  "ProductRef": {
                    "alias": "prod_ref",
                    "comment": "Reference to the product.",
                    "nullable": false,
                    "type": {"integer": {"unsigned": true}}
                  },
                  "Total": {
                    "alias": "pv",
                    "comment": "Wholesale PV value for the product.",
                    "nullable": false,
                    "default": 0,
                    "type": {"numeric": {"precision": 12, "scale": 4}}
                  }
                },
                "index": {
                  "PK": {"type": "primary", "aliases": ["prod_ref"]}
                },
                "relation": {
                  "toMageProduct": {
                    "own": {"aliases": ["prod_ref"]},
                    "reference": {
                      "entity": {"completeAlias": "catalog_product_entity"},
                      "aliases": ["entity_id"]
                    },
                    "action": {"delete": "restrict", "update": "restrict"}
                  }
                }
              },
              "SaleOrder": {
                "alias": "sale",
                "comment": "PV attributes related to sale order.",
                "attribute": {
                  "SaleOrderId": {
                    "alias": "sale_id",
                    "comment": "Reference to the sale order.",
                    "nullable": false,
                    "type": {"integer": {"unsigned": true}}
                  },
                  "Subtotal": {
                    "alias": "subtotal",
                    "comment": "PV amount for all order items w/o discount.",
                    "nullable": false,
                    "default": 0,
                    "type": {"numeric": {"precision": 12, "scale": 4}}
                  },
                  "Discount": {
                    "alias": "discount",
                    "comment": "PV discount amount for all items.",
                    "nullable": false,
                    "default": 0,
                    "type": {"numeric": {"precision": 12, "scale": 4}}
                  },
                  "Total": {
                    "alias": "total",
                    "comment": "PV amount for all order items with discount.",
                    "nullable": false,
                    "default": 0,
                    "type": {"numeric": {"precision": 12, "scale": 4}}
                  },
                  "DatePaid": {
                    "alias": "date_paid",
                    "comment": "Time when sale order was paid and PV were transferred to the customer's account.",
                    "nullable": true,
                    "type": {"datetime": {}}
                  }
                },
                "index": {
                  "PK": {"type": "primary", "aliases": ["sale_id"]}
                },
                "relation": {
                  "toMageSaleOrder": {
                    "own": {"aliases": ["sale_id"]},
                    "reference": {
                      "entity": {"completeAlias": "sales_order"},
                      "aliases": ["entity_id"]
                    },
                    "action": {"delete": "restrict", "update": "restrict"}
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}